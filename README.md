# MiniMax Dubbing - AIæ™ºèƒ½é…éŸ³ç³»ç»Ÿ

[English](./README_EN.md) | ç®€ä½“ä¸­æ–‡

> ğŸ™ï¸ åŸºäºVue 3 + Djangoçš„AIæ™ºèƒ½é…éŸ³ç³»ç»Ÿ

ä¸€ä¸ªä¸“ä¸šçš„è§†é¢‘é…éŸ³ä¸ç¿»è¯‘å¹³å°ï¼Œé›†æˆMiniMax AI APIï¼Œæ”¯æŒæ‰¹é‡ç¿»è¯‘ã€AIè¯­éŸ³åˆæˆã€æ™ºèƒ½é…éŸ³ç­‰åŠŸèƒ½ã€‚

![Python](https://img.shields.io/badge/Python-3.10+-blue)
![Vue](https://img.shields.io/badge/Vue-3.0+-green)
![Django](https://img.shields.io/badge/Django-5.2+-orange)
![License](https://img.shields.io/badge/License-MIT-lightgrey)

## ğŸ¤– æ ¸å¿ƒAIèƒ½åŠ›

### 1ï¸âƒ£ ä¸°å¯ŒéŸ³è‰²åº“ä¸é«˜æ‹ŸçœŸè¯­éŸ³å…‹éš†

**ä¼ ç»Ÿæ–¹å¼**ï¼šé…éŸ³æ¼”å‘˜å½•åˆ¶æˆæœ¬é«˜ï¼ŒéŸ³è‰²é€‰æ‹©å—é™ï¼Œæ— æ³•å¿«é€Ÿè¿­ä»£ã€‚

**AIå¢å€¼**ï¼šMiniMax TTSæä¾›40ç§è¯­è¨€ï¼Œæ•°ç™¾ä¸ªé«˜è´¨é‡é¢„è®¾éŸ³è‰²ï¼Œæ¶µç›–ä¸åŒå¹´é¾„ã€æ€§åˆ«ã€æƒ…æ„Ÿé£æ ¼ã€‚æ”¯æŒè¯­é€Ÿã€éŸ³è°ƒã€æƒ…æ„Ÿå¼ºåº¦ç­‰ç»†ç²’åº¦å‚æ•°è°ƒèŠ‚ã€‚æ›´æ”¯æŒè¯­éŸ³å…‹éš†æŠ€æœ¯ï¼Œä»…éœ€å°‘é‡éŸ³é¢‘æ ·æœ¬å³å¯ç”Ÿæˆé«˜åº¦æ‹ŸçœŸçš„å®šåˆ¶éŸ³è‰²ï¼Œè®©æ¯ä¸ªè§’è‰²éƒ½æ‹¥æœ‰ç‹¬ç‰¹å£°éŸ³ç‰¹å¾ï¼Œå®ç°çœŸäººçº§é…éŸ³æ•ˆæœã€‚

### 2ï¸âƒ£ AIç¿»è¯‘ä¸ä¸“ä¸šè¯æ±‡ä¼˜åŒ–

**ä¼ ç»Ÿæ–¹å¼**ï¼šä½¿ç”¨é€šç”¨ç¿»è¯‘å·¥å…·ï¼Œä¸“ä¸šæœ¯è¯­ç¿»è¯‘ä¸å‡†ç¡®ï¼Œéœ€åå¤ä¿®æ”¹ã€‚

**AIå¢å€¼**ï¼šé›†æˆMiniMax LLMç¿»è¯‘ï¼Œæ”¯æŒè‡ªå®šä¹‰ä¸“ä¸šè¯æ±‡è¡¨ï¼ˆå¦‚äººåã€åœ°åã€ä¸“æœ‰åè¯çš„å›ºå®šè¯‘æ³•ï¼‰ã€‚AIä¼šåœ¨ç¿»è¯‘æ—¶ä¸¥æ ¼éµå¾ªè¯æ±‡è¡¨è§„åˆ™ï¼Œç¡®ä¿æœ¯è¯­ç»Ÿä¸€ä¸”ç¬¦åˆè¡Œä¸šæ ‡å‡†ã€‚æ”¯æŒä¸»æµè¯­ç§è¯­è¨€äº’è¯‘ï¼Œè¦†ç›–å…¨çƒä¸»æµå¸‚åœºï¼Œå¤§å¹…å‡å°‘äººå·¥æ ¡å¯¹å·¥ä½œé‡ã€‚

### 3ï¸âƒ£ TTSæ™ºèƒ½æ—¶é—´æˆ³å¯¹é½

**ä¼ ç»Ÿæ–¹å¼**ï¼šé…éŸ³æ—¶é•¿ä¸åŸå­—å¹•æ—¶é—´è½´ä¸åŒ¹é…ï¼Œéœ€æ‰‹åŠ¨é€å¥è°ƒæ•´æ—¶é—´æˆ³ã€‚

**AIå¢å€¼**ï¼šå†…ç½®æ™ºèƒ½å¯¹é½ç®—æ³•ï¼Œæ ¹æ®TTSç”Ÿæˆçš„éŸ³é¢‘æ—¶é•¿è‡ªåŠ¨ä¼˜åŒ–å­—å¹•æ—¶é—´è½´ã€‚ç®—æ³•ä¼šæ™ºèƒ½å»¶é•¿æˆ–ç¼©çŸ­æ—¶é—´æˆ³ï¼Œä¿æŒè¯­å¥é—´çš„è‡ªç„¶åœé¡¿ï¼Œç¡®ä¿é…éŸ³ä¸ç”»é¢å®Œç¾åŒæ­¥ï¼Œçœå»99%çš„æ‰‹åŠ¨è°ƒæ—¶å·¥ä½œã€‚

### 4ï¸âƒ£ AIæ™ºèƒ½è¯´è¯äººè¯†åˆ«

**ä¼ ç»Ÿæ–¹å¼**ï¼šæ‰‹åŠ¨é€æ¡æ ‡æ³¨æ¯å¥å¯¹è¯çš„è¯´è¯äººï¼Œè€—æ—¶ä¸”æ˜“å‡ºé”™ã€‚

**AIå¢å€¼**ï¼šåˆ©ç”¨MiniMaxå¤§è¯­è¨€æ¨¡å‹åˆ†æå¯¹è¯ä¸Šä¸‹æ–‡ï¼Œè‡ªåŠ¨è¯†åˆ«å¹¶å‘½åè¯´è¯äººè§’è‰²ï¼Œè¿˜èƒ½æ ¹æ®å‰§æƒ…ä¸ºè§’è‰²ç”Ÿæˆåˆé€‚çš„åç§°ã€‚ä¸€é”®è‡ªåŠ¨åˆ†é…ï¼Œå°†å‡ å°æ—¶çš„æ ‡æ³¨å·¥ä½œç¼©çŸ­è‡³å‡ åˆ†é’Ÿï¼ŒåŒæ—¶æ”¯æŒäººå·¥çŸ«æ­£ï¼Œå‡†ç¡®ç‡æ­£åœ¨ä¸æ–­è¿­ä»£æå‡ï¼Œæ•¬è¯·æœŸå¾…ã€‚

---

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### æ ¸å¿ƒç¿»è¯‘ç³»ç»Ÿ
- **ğŸ“¹ è§†é¢‘éŸ³é¢‘æ”¯æŒ**ï¼šä¸Šä¼ å’Œå¤„ç†è§†é¢‘/éŸ³é¢‘æ–‡ä»¶è¿›è¡Œç¿»è¯‘é…éŸ³
- **ğŸ“ SRTå¯¼å…¥å¯¼å‡º**ï¼šå¯¼å…¥SRTå­—å¹•æ–‡ä»¶å¹¶å¯¼å‡ºç¿»è¯‘åçš„ç‰ˆæœ¬
- **ğŸ”„ å†…è”ç¼–è¾‘**ï¼šè¡¨æ ¼ç›´æ¥ç¼–è¾‘ï¼Œæ”¯æŒè‡ªåŠ¨ä¿å­˜å’Œå®æ—¶éªŒè¯
- **ğŸ¯ æ™ºèƒ½åˆ†æ®µ**ï¼šè‡ªåŠ¨æ–‡æœ¬åˆ†æ®µï¼Œç²¾ç¡®æ—¶é—´è½´å¯¹é½

### AIé©±åŠ¨åŠŸèƒ½
- **ğŸ¤– æ‰¹é‡ç¿»è¯‘**ï¼šAIæ‰¹é‡ç¿»è¯‘ï¼Œå®æ—¶è¿›åº¦è¿½è¸ª
- **ğŸ™ï¸ è¯­éŸ³åˆæˆ(TTS)**ï¼šå°†ç¿»è¯‘æ–‡æœ¬è½¬æ¢ä¸ºè‡ªç„¶æµç•…çš„è¯­éŸ³
- **ğŸ‘¥ è‡ªåŠ¨è¯´è¯äººåˆ†é…**ï¼šåŸºäºLLMçš„æ™ºèƒ½è§’è‰²è¯†åˆ«ä¸åˆ†é…
- **âš¡ å®æ—¶è¿›åº¦**ï¼šæ‰¹é‡æ“ä½œçš„å®æ—¶è¿›åº¦ç›‘æ§

### é«˜çº§éŸ³é¢‘å¤„ç†
- **ğŸµ éŸ³é¢‘æ‹¼æ¥**ï¼šå°†åˆ†æ®µéŸ³é¢‘åˆå¹¶ä¸ºå®Œæ•´éŸ³è½¨
- **â±ï¸ æ—¶é—´æˆ³å¯¹é½**ï¼šæ™ºèƒ½ä¼˜åŒ–é…éŸ³æ—¶é—´æˆ³ï¼Œç¡®ä¿è‡ªç„¶æµç•…
- **ğŸ›ï¸ éŸ³é¢‘é¢„è§ˆ**ï¼šé›†æˆåª’ä½“æ’­æ”¾å™¨å’Œæ³¢å½¢å¯è§†åŒ–
- **ğŸ”Š éŸ³è‰²æ˜ å°„**ï¼šä¸ºä¸åŒè¯´è¯äººé…ç½®ä¸åŒçš„éŸ³è‰²

### ç³»ç»Ÿç®¡ç†
- **ğŸ“Š ä»»åŠ¡ç›‘æ§**ï¼šåå°ä»»åŠ¡å®æ—¶ç›‘æ§
- **âš™ï¸ å¯é…ç½®è®¾ç½®**ï¼šç®¡ç†åå°ç•Œé¢è¿›è¡Œç³»ç»Ÿé…ç½®
- **ğŸ”’ APIè®¤è¯**ï¼šå®‰å…¨çš„APIå¯†é’¥è®¤è¯æœºåˆ¶
- **ğŸ“± å“åº”å¼è®¾è®¡**ï¼šåŸºäºVue 3å’ŒElement Plusçš„ç°ä»£åŒ–ç•Œé¢

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### æŠ€æœ¯æ ˆ
- **å‰ç«¯**: Vue 3 + TypeScript + Element Plus + Vite
- **åç«¯**: Django 5.2.6 + Django REST Framework
- **æ•°æ®åº“**: SQLite (å¼€å‘ç¯å¢ƒ) / PostgreSQL (ç”Ÿäº§ç¯å¢ƒ)
- **AIé›†æˆ**: MiniMax API ç”¨äºç¿»è¯‘å’ŒTTS

### é¡¹ç›®ç»“æ„
```
minimax_translation/
â”œâ”€â”€ backend/                    # Djangoé…ç½®å’Œæ ¸å¿ƒè®¾ç½®
â”œâ”€â”€ projects/                   # é¡¹ç›®ç®¡ç†åº”ç”¨
â”œâ”€â”€ segments/                   # ç‰‡æ®µç®¡ç†åº”ç”¨
â”œâ”€â”€ authentication/             # è®¤è¯ç³»ç»Ÿ
â”œâ”€â”€ system_monitor/             # ä»»åŠ¡ç›‘æ§å’Œç³»ç»Ÿé…ç½®
â”œâ”€â”€ services/                   # ä¸šåŠ¡é€»è¾‘å’ŒAIé›†æˆ
â”‚   â”œâ”€â”€ algorithms/             # æ—¶é—´æˆ³å¯¹é½ç®—æ³•
â”‚   â”œâ”€â”€ business/               # ä¸šåŠ¡é€»è¾‘æœåŠ¡
â”‚   â”œâ”€â”€ clients/                # å¤–éƒ¨APIå®¢æˆ·ç«¯
â”‚   â””â”€â”€ parsers/                # æ–‡ä»¶æ ¼å¼è§£æå™¨
â”œâ”€â”€ frontend/                   # Vue 3åº”ç”¨
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/         # Vueç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ composables/        # Vue 3ç»„åˆå¼å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ utils/              # å·¥å…·å‡½æ•°
â”‚   â”‚   â””â”€â”€ stores/             # PiniaçŠ¶æ€ç®¡ç†
â””â”€â”€ api_example/                # APIä½¿ç”¨ç¤ºä¾‹
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### âš¡ è¶…å¿«é€Ÿå®‰è£…ï¼ˆ2åˆ†é’Ÿï¼‰

```bash
# 1. å…‹éš†ä»“åº“
git clone https://github.com/MiniMax-OpenPlatform/minimax_dubbing.git
cd minimax_dubbing

# 2. å®‰è£…ä¾èµ–
pip install -r requirements.txt
cd frontend && npm install && cd ..

# 3. åˆå§‹åŒ–æ•°æ®åº“å’Œç®¡ç†å‘˜è´¦å·
python3 manage.py migrate
python3 manage.py init_system
```

### ğŸš€ å¯åŠ¨æœåŠ¡

#### æ–¹æ³•1: ä¸¤ä¸ªç»ˆç«¯çª—å£ (æ¨è)

**ç»ˆç«¯1 - å¯åŠ¨åç«¯æœåŠ¡:**
```bash
cd minimax_translation
python3 manage.py runserver 0.0.0.0:5172
```

**ç»ˆç«¯2 - å¯åŠ¨å‰ç«¯æœåŠ¡:**
```bash
cd minimax_translation/frontend
npm run dev
```

#### æ–¹æ³•2: å•ä¸ªç»ˆç«¯ (åå°è¿è¡Œ)

å¦‚æœåªæœ‰ä¸€ä¸ªç»ˆç«¯ï¼Œå¯ä»¥å°†åç«¯æ”¾åˆ°åå°è¿è¡Œï¼š

```bash
cd minimax_translation

# 1. åå°å¯åŠ¨åç«¯æœåŠ¡
nohup python3 manage.py runserver 0.0.0.0:5172 > backend.log 2>&1 &

# 2. å¯åŠ¨å‰ç«¯æœåŠ¡
cd frontend && npm run dev
```

**åœæ­¢åå°æœåŠ¡:**
```bash
# æŸ¥æ‰¾å¹¶åœæ­¢åç«¯æœåŠ¡
pkill -f "python3 manage.py runserver"
```

#### æ–¹æ³•3: Screen ä¼šè¯ (ç”Ÿäº§ç¯å¢ƒæ¨è)

ä½¿ç”¨screenå¯ä»¥é˜²æ­¢SSHæ–­å¼€å¯¼è‡´çš„æœåŠ¡åœæ­¢ï¼š

```bash
# å®‰è£…screen (å¦‚æœæ²¡æœ‰)
sudo apt install screen  # Ubuntu/Debian

# å¯åŠ¨åç«¯ä¼šè¯
screen -S backend
cd minimax_translation
python3 manage.py runserver 0.0.0.0:5172
# æŒ‰ Ctrl+A ç„¶åæŒ‰ D é€€å‡ºscreen

# å¯åŠ¨å‰ç«¯ä¼šè¯
screen -S frontend
cd minimax_translation/frontend
npm run dev
# æŒ‰ Ctrl+A ç„¶åæŒ‰ D é€€å‡ºscreen

# æŸ¥çœ‹æ‰€æœ‰ä¼šè¯
screen -ls

# é‡æ–°è¿æ¥ä¼šè¯
screen -r backend   # è¿æ¥åç«¯
screen -r frontend  # è¿æ¥å‰ç«¯

# åœæ­¢ä¼šè¯
screen -S backend -X quit
screen -S frontend -X quit
```

**è®¿é—®åœ°å€ ğŸ‰**
- **å‰ç«¯åº”ç”¨**: http://localhost:5173/ (æœ¬åœ°) æˆ– http://YOUR_IP:5173/ (å¤–éƒ¨)
- **åç«¯API**: http://localhost:5172/api/ (æœ¬åœ°) æˆ– http://YOUR_IP:5172/api/ (å¤–éƒ¨)

> âš ï¸ **é‡è¦**: å¿…é¡»åŒæ—¶è¿è¡Œä¸¤ä¸ªæœåŠ¡æ‰èƒ½æ­£å¸¸è®¿é—®ï¼å‰ç«¯åœ¨5173ç«¯å£ï¼Œåç«¯åœ¨5172ç«¯å£ã€‚

### ğŸ“‹ Prerequisites
- Python 3.10+
- Node.js 16+
- npm

### ğŸ”§ Detailed Setup

<details>
<summary>Click for step-by-step instructions</summary>

#### 1. Clone Repository
```bash
git clone https://github.com/backearth1/minimax_translation.git
cd minimax_translation
```

#### 2. Backend Setup
```bash
# Install Python dependencies
pip install -r requirements.txt

# Setup database
python3 manage.py migrate

# Create admin user (optional)
python3 manage.py createsuperuser
```

#### 3. Frontend Setup
```bash
cd frontend
npm install
cd ..
```

#### 4. Environment Configuration (Optional)
```bash
# Copy environment template
cp .env.example .env

# Edit .env file with your API keys
nano .env
```

#### 5. Start Development Servers (éœ€è¦ä¸¤ä¸ªç»ˆç«¯)

**ç»ˆç«¯1 - åç«¯æœåŠ¡:**
```bash
cd minimax_translation
python3 manage.py runserver 0.0.0.0:5172
```

**ç»ˆç«¯2 - å‰ç«¯æœåŠ¡:**
```bash
cd minimax_translation/frontend
npm run dev
```

> ğŸ’¡ **æç¤º**: ä¸¤ä¸ªæœåŠ¡å¿…é¡»åŒæ—¶è¿è¡Œï¼å‰ç«¯æœåŠ¡åœ¨5173ç«¯å£ï¼Œåç«¯æœåŠ¡åœ¨5172ç«¯å£ã€‚

</details>

### ğŸŒ Access Points
- **Frontend**: http://localhost:5173/ (æœ¬åœ°) æˆ– http://YOUR_IP:5173/ (å¤–éƒ¨)
- **Backend API**: http://localhost:5172/api/ (æœ¬åœ°) æˆ– http://YOUR_IP:5172/api/ (å¤–éƒ¨)
- **Admin Panel**: http://localhost:5172/admin/ (æœ¬åœ°) æˆ– http://YOUR_IP:5172/admin/ (å¤–éƒ¨)

> ğŸ’¡ **å¤–éƒ¨è®¿é—®è¯´æ˜**: å°† `YOUR_IP` æ›¿æ¢ä¸ºä½ çš„å®é™…IPåœ°å€ï¼ˆå¦‚ 192.168.1.100ï¼‰

## ğŸ“– Usage

### Basic Workflow

1. **Create Project**: Upload SRT file or create empty project
2. **Configure Voices**: Set up speaker-to-voice mappings in project settings
3. **Auto Assign Speakers**: Use AI to automatically detect and assign speakers
4. **Batch Translate**: Translate all segments using AI
5. **Generate TTS**: Create audio for translated text
6. **Preview & Export**: Preview concatenated audio and export results

### Key Features Guide

#### Auto Speaker Assignment
- Analyzes dialogue content using LLM
- Automatically assigns speakers based on conversation context
- Requires at least 2 speakers configured in project settings

#### Batch Operations
- **Translation**: Bulk translate all segments with progress tracking
- **TTS**: Generate audio for all translated segments
- **Real-time Monitoring**: Live progress updates with detailed status

#### Audio Management
- **Concatenation**: Merge segment audio into complete track
- **Preview**: Integrated media player with waveform visualization
- **Export**: Download final audio files

## âš™ï¸ Configuration

### Environment Variables
Create a `.env` file in the project root:
```env
DEBUG=True
SECRET_KEY=your-secret-key-here
ALLOWED_HOSTS=localhost,127.0.0.1,10.11.17.19
```

### MiniMax API Setup
Configure your MiniMax API credentials in the Django admin panel or directly in the code.

## ğŸ”§ API Reference

### Authentication
All API requests require authentication via API key:
```bash
curl -H "X-API-KEY: your-api-key" http://localhost:5172/api/projects/
```

### Key Endpoints
- `GET /api/projects/` - List projects
- `POST /api/projects/upload_srt/` - Upload SRT file
- `POST /api/projects/{id}/batch_translate/` - Start batch translation
- `POST /api/projects/{id}/batch_tts/` - Start batch TTS
- `POST /api/projects/{id}/auto_assign_speakers/` - Auto assign speakers
- `POST /api/projects/{id}/concatenate_audio/` - Concatenate audio

## ğŸ§ª Testing

### Backend Tests
```bash
python3 manage.py test
```

### Frontend Tests
```bash
cd frontend
npm run test
```

## ğŸ“¦ Production Deployment

### Backend
```bash
# Install production dependencies
pip install -r requirements.txt

# Collect static files
python3 manage.py collectstatic

# Run with gunicorn
gunicorn backend.wsgi:application
```

### ğŸ”„ Background Service (Persistent Running)

#### For Development (Terminal Closes, Service Continues):
```bash
# Backend - Using nohup
nohup python3 manage.py runserver 0.0.0.0:5172 > backend.log 2>&1 &

# Frontend - Using nohup
cd frontend
nohup npm run dev > frontend.log 2>&1 &

# Check running processes
ps aux | grep python3
ps aux | grep node

# Stop services
pkill -f "python3 manage.py runserver"
pkill -f "npm run dev"
```

#### For Production (Using systemd):
```bash
# 1. Create backend service file
sudo nano /etc/systemd/system/minimax-backend.service

# Content:
[Unit]
Description=MiniMax Translation Backend
After=network.target

[Service]
Type=simple
User=your-username
WorkingDirectory=/path/to/minimax_translation
ExecStart=/usr/bin/python3 manage.py runserver 0.0.0.0:5172
Restart=always

[Install]
WantedBy=multi-user.target

# 2. Enable and start service
sudo systemctl daemon-reload
sudo systemctl enable minimax-backend
sudo systemctl start minimax-backend

# 3. Check status
sudo systemctl status minimax-backend
```

#### Alternative: Using screen/tmux:
```bash
# Using screen
screen -S minimax-backend
python3 manage.py runserver 0.0.0.0:5172
# Press Ctrl+A then D to detach

screen -S minimax-frontend
cd frontend && npm run dev
# Press Ctrl+A then D to detach

# List running screens
screen -ls

# Reattach to screen
screen -r minimax-backend
```

### Frontend
```bash
cd frontend
npm run build
```

## ğŸ¤ Contributing

1. Fork the repository
2. Create your feature branch (`git checkout -b feature/amazing-feature`)
3. Commit your changes (`git commit -m 'Add some amazing feature'`)
4. Push to the branch (`git push origin feature/amazing-feature`)
5. Open a Pull Request

## ğŸ“ License

This project is licensed under the MIT License - see the LICENSE file for details.

## ğŸ™ Acknowledgments

- **MiniMax API** for AI translation and TTS capabilities
- **Vue 3** and **Element Plus** for the modern frontend
- **Django REST Framework** for the robust backend API
- **FFmpeg** for audio processing capabilities

## ğŸ“ Support

For support and questions:
- Create an issue in the GitHub repository
- Check the documentation in the `/docs` folder
- Review API examples in `/api_example`

---

**Built with â¤ï¸ using Vue 3, Django, and AI-powered technologies**