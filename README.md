# MiniMax Dubbing - AIæ™ºèƒ½é…éŸ³ç³»ç»Ÿ

[English](./README_EN.md) | ç®€ä½“ä¸­æ–‡

> ğŸ™ï¸ AIæ™ºèƒ½é…éŸ³ç¿»è¯‘

æœ¬æ–¹æ¡ˆè¯•å›¾ç”¨AIå®Œæˆè¯´è¯äººè‡ªåŠ¨è¯†åˆ«ï¼Œæ—¶é—´æˆ³è‡ªåŠ¨å¯¹é½ï¼Œè‡ªåŠ¨ç¿»è¯‘ä¼˜åŒ–ç­‰ï¼Œæå‡è§†é¢‘ç¿»è¯‘çš„æ•ˆç‡ã€‚

![Python](https://img.shields.io/badge/Python-3.10.12-blue)
![Vue](https://img.shields.io/badge/Vue-3.0+-green)
![Django](https://img.shields.io/badge/Django-5.2+-orange)
![License](https://img.shields.io/badge/License-MIT-lightgrey)

## ğŸ¤– æ ¸å¿ƒAIèƒ½åŠ›

### 1ï¸âƒ£ ä¸°å¯ŒéŸ³è‰²åº“ä¸é«˜æ‹ŸçœŸè¯­éŸ³å…‹éš†

**ä¼ ç»Ÿæ–¹å¼**ï¼šé…éŸ³æ¼”å‘˜å½•åˆ¶æˆæœ¬é«˜ï¼ŒéŸ³è‰²é€‰æ‹©å—é™ï¼Œæ— æ³•å¿«é€Ÿè¿­ä»£ã€‚

**AIå¢å€¼**ï¼šMiniMax TTSæä¾›40ç§è¯­è¨€ï¼Œæ•°ç™¾ä¸ªé«˜è´¨é‡é¢„è®¾éŸ³è‰²ï¼Œæ¶µç›–ä¸åŒå¹´é¾„ã€æ€§åˆ«ã€æƒ…æ„Ÿé£æ ¼ã€‚æ”¯æŒè¯­é€Ÿã€éŸ³è°ƒã€æƒ…æ„Ÿå¼ºåº¦ç­‰ç»†ç²’åº¦å‚æ•°è°ƒèŠ‚ã€‚æ›´æ”¯æŒè¯­éŸ³å…‹éš†æŠ€æœ¯ï¼Œä»…éœ€å°‘é‡éŸ³é¢‘æ ·æœ¬å³å¯ç”Ÿæˆé«˜åº¦æ‹ŸçœŸçš„å®šåˆ¶éŸ³è‰²ï¼Œè®©æ¯ä¸ªè§’è‰²éƒ½æ‹¥æœ‰ç‹¬ç‰¹å£°éŸ³ç‰¹å¾ï¼Œå®ç°çœŸäººçº§é…éŸ³æ•ˆæœã€‚

### 2ï¸âƒ£ AIç¿»è¯‘ä¸ä¸“ä¸šè¯æ±‡ä¼˜åŒ–

**ä¼ ç»Ÿæ–¹å¼**ï¼šä½¿ç”¨é€šç”¨ç¿»è¯‘å·¥å…·ï¼Œä¸“ä¸šæœ¯è¯­ç¿»è¯‘ä¸å‡†ç¡®ï¼Œéœ€åå¤ä¿®æ”¹ã€‚

**AIå¢å€¼**ï¼šé›†æˆMiniMax LLMç¿»è¯‘ï¼Œæ”¯æŒè‡ªå®šä¹‰ä¸“ä¸šè¯æ±‡è¡¨ï¼ˆå¦‚äººåã€åœ°åã€ä¸“æœ‰åè¯çš„å›ºå®šè¯‘æ³•ï¼‰ã€‚AIä¼šåœ¨ç¿»è¯‘æ—¶ä¸¥æ ¼éµå¾ªè¯æ±‡è¡¨è§„åˆ™ï¼Œç¡®ä¿æœ¯è¯­ç»Ÿä¸€ä¸”ç¬¦åˆè¡Œä¸šæ ‡å‡†ã€‚æ”¯æŒä¸»æµè¯­ç§è¯­è¨€äº’è¯‘ï¼Œè¦†ç›–å…¨çƒä¸»æµå¸‚åœºï¼Œå¤§å¹…å‡å°‘äººå·¥æ ¡å¯¹å·¥ä½œé‡ã€‚

### 3ï¸âƒ£ TTSæ™ºèƒ½æ—¶é—´æˆ³å¯¹é½

**ä¼ ç»Ÿæ–¹å¼**ï¼šé…éŸ³æ—¶é•¿ä¸åŸå­—å¹•æ—¶é—´è½´ä¸åŒ¹é…ï¼Œéœ€æ‰‹åŠ¨é€å¥è°ƒæ•´æ—¶é—´æˆ³ã€‚

**AIå¢å€¼**ï¼šå†…ç½®æ™ºèƒ½å¯¹é½ç®—æ³•ï¼Œæ ¹æ®TTSç”Ÿæˆçš„éŸ³é¢‘æ—¶é•¿è‡ªåŠ¨ä¼˜åŒ–å­—å¹•æ—¶é—´è½´ã€‚ç®—æ³•ä¼šæ™ºèƒ½å»¶é•¿æˆ–ç¼©çŸ­æ—¶é—´æˆ³ï¼Œä¿æŒè¯­å¥é—´çš„è‡ªç„¶åœé¡¿ï¼Œç¡®ä¿é…éŸ³ä¸ç”»é¢å®Œç¾åŒæ­¥ï¼Œçœå»99%çš„æ‰‹åŠ¨è°ƒæ—¶å·¥ä½œã€‚

### 4ï¸âƒ£ AIæ™ºèƒ½è¯´è¯äººè¯†åˆ«ï¼ˆå¤šæ¨¡æ€æŠ€æœ¯ï¼‰

**ä¼ ç»Ÿæ–¹å¼**ï¼šæ‰‹åŠ¨é€æ¡æ ‡æ³¨æ¯å¥å¯¹è¯çš„è¯´è¯äººï¼Œè€—æ—¶ä¸”æ˜“å‡ºé”™ã€‚

**AIå¢å€¼**ï¼šé‡‡ç”¨**äººè„¸æ£€æµ‹ + VLMå‘½å + LLMåˆ†é…**çš„ä¸‰é˜¶æ®µæ™ºèƒ½è¯†åˆ«æŠ€æœ¯ï¼š
1. **äººè„¸æ£€æµ‹ä¸èšç±»**ï¼šä½¿ç”¨FaceNetå’ŒDBSCANç®—æ³•ä»è§†é¢‘ä¸­æ£€æµ‹å¹¶èšç±»äººè„¸
2. **VLMæ™ºèƒ½å‘½å**ï¼šåˆ©ç”¨Qwen-VLå¤šæ¨¡æ€æ¨¡å‹åˆ†æäººè„¸å›¾åƒå’Œå¯¹è¯å†…å®¹ï¼Œä¸ºæ¯ä¸ªè¯´è¯äººç”Ÿæˆå§“åã€è§’è‰²ã€æ€§åˆ«ã€å¤–è²Œç‰¹å¾å’Œæ€§æ ¼åˆ†æ
3. **LLMç²¾å‡†åˆ†é…**ï¼šä½¿ç”¨å¤§è¯­è¨€æ¨¡å‹æ ¹æ®å¯¹è¯ä¸Šä¸‹æ–‡å°†å­—å¹•ç²¾å‡†åˆ†é…ç»™å¯¹åº”è¯´è¯äºº

ä¸€é”®è‡ªåŠ¨å®Œæˆï¼Œå°†å‡ å°æ—¶çš„æ ‡æ³¨å·¥ä½œç¼©çŸ­è‡³å‡ åˆ†é’Ÿï¼Œè¯†åˆ«ç»“æœåŒ…å«è¯´è¯äººæ¡£æ¡ˆã€ä»£è¡¨å›¾ç‰‡å’Œè¯¦ç»†åˆ†æï¼Œå‡†ç¡®ç‡é«˜ä¸”æ”¯æŒäººå·¥çŸ«æ­£ã€‚

---

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### æ ¸å¿ƒç¿»è¯‘ç³»ç»Ÿ
- **ğŸ“¹ è§†é¢‘éŸ³é¢‘æ”¯æŒ**ï¼šä¸Šä¼ å’Œå¤„ç†è§†é¢‘/éŸ³é¢‘æ–‡ä»¶è¿›è¡Œç¿»è¯‘é…éŸ³
- **ğŸ“ SRTå¯¼å…¥å¯¼å‡º**ï¼šå¯¼å…¥SRTå­—å¹•æ–‡ä»¶å¹¶å¯¼å‡ºç¿»è¯‘åçš„ç‰ˆæœ¬
- **ğŸ”„ å†…è”ç¼–è¾‘**ï¼šè¡¨æ ¼ç›´æ¥ç¼–è¾‘ï¼Œæ”¯æŒè‡ªåŠ¨ä¿å­˜å’Œå®æ—¶éªŒè¯
- **ğŸ¯ æ™ºèƒ½åˆ†æ®µ**ï¼šè‡ªåŠ¨æ–‡æœ¬åˆ†æ®µï¼Œç²¾ç¡®æ—¶é—´è½´å¯¹é½

### AIé©±åŠ¨åŠŸèƒ½
- **ğŸ¤– æ‰¹é‡ç¿»è¯‘**ï¼šAIæ‰¹é‡ç¿»è¯‘ï¼Œå®æ—¶è¿›åº¦è¿½è¸ª
- **ğŸ™ï¸ è¯­éŸ³åˆæˆ(TTS)**ï¼šå°†ç¿»è¯‘æ–‡æœ¬è½¬æ¢ä¸ºè‡ªç„¶æµç•…çš„è¯­éŸ³
- **ğŸ‘¥ æ™ºèƒ½è¯´è¯äººè¯†åˆ«**ï¼šäººè„¸æ£€æµ‹+VLMå‘½å+LLMåˆ†é…çš„å¤šæ¨¡æ€è¯†åˆ«ç³»ç»Ÿ
- **ğŸ­ è¯´è¯äººæ¡£æ¡ˆ**ï¼šè‡ªåŠ¨ç”Ÿæˆè¯´è¯äººå§“åã€è§’è‰²ã€å¤–è²Œã€æ€§æ ¼åˆ†æ
- **âš¡ å®æ—¶è¿›åº¦**ï¼šæ‰¹é‡æ“ä½œçš„å®æ—¶è¿›åº¦ç›‘æ§ï¼Œé”™è¯¯ä¿¡æ¯å›ºå®šæ˜¾ç¤º

### é«˜çº§éŸ³é¢‘å¤„ç†
- **ğŸµ éŸ³é¢‘æ‹¼æ¥**ï¼šå°†åˆ†æ®µéŸ³é¢‘åˆå¹¶ä¸ºå®Œæ•´éŸ³è½¨
- **â±ï¸ æ—¶é—´æˆ³å¯¹é½**ï¼šæ™ºèƒ½ä¼˜åŒ–é…éŸ³æ—¶é—´æˆ³ï¼Œç¡®ä¿è‡ªç„¶æµç•…
- **ğŸ›ï¸ éŸ³é¢‘é¢„è§ˆ**ï¼šé›†æˆåª’ä½“æ’­æ”¾å™¨å’Œæ³¢å½¢å¯è§†åŒ–
- **ğŸ”Š éŸ³è‰²æ˜ å°„**ï¼šä¸ºä¸åŒè¯´è¯äººé…ç½®ä¸åŒçš„éŸ³è‰²

### ç³»ç»Ÿç®¡ç†
- **ğŸ“Š ä»»åŠ¡ç›‘æ§**ï¼šåå°ä»»åŠ¡å®æ—¶ç›‘æ§
- **âš™ï¸ å¯é…ç½®è®¾ç½®**ï¼šç®¡ç†åå°ç•Œé¢è¿›è¡Œç³»ç»Ÿé…ç½®
- **ğŸ”’ APIè®¤è¯**ï¼šå®‰å…¨çš„APIå¯†é’¥è®¤è¯æœºåˆ¶
- **ğŸ“± å“åº”å¼è®¾è®¡**ï¼šåŸºäºVue 3å’ŒElement Plusçš„ç°ä»£åŒ–ç•Œé¢

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### æŠ€æœ¯æ ˆ
- **å‰ç«¯**: Vue 3 + TypeScript + Element Plus + Vite
- **åç«¯**: Django 5.2.6 + Django REST Framework
- **æ•°æ®åº“**: SQLite (å¼€å‘ç¯å¢ƒ) / PostgreSQL (ç”Ÿäº§ç¯å¢ƒ)
- **AIé›†æˆ**:
  - MiniMax API - ç¿»è¯‘å’ŒTTS
  - Qwen-VL (DashScope) - è§†è§‰è¯­è¨€æ¨¡å‹è¯´è¯äººå‘½å
  - Qwen LLM - è¯´è¯äººå­—å¹•åˆ†é…
- **è®¡ç®—æœºè§†è§‰**: FaceNet + MTCNN (äººè„¸æ£€æµ‹) + DBSCAN (èšç±»)

### é¡¹ç›®ç»“æ„
```
minimax_translation/
â”œâ”€â”€ backend/                    # Djangoé…ç½®å’Œæ ¸å¿ƒè®¾ç½®
â”œâ”€â”€ projects/                   # é¡¹ç›®ç®¡ç†åº”ç”¨
â”œâ”€â”€ segments/                   # ç‰‡æ®µç®¡ç†åº”ç”¨
â”œâ”€â”€ authentication/             # è®¤è¯ç³»ç»Ÿ
â”œâ”€â”€ speakers/                   # è¯´è¯äººè¯†åˆ«ç³»ç»Ÿ (NEW)
â”œâ”€â”€ system_monitor/             # ä»»åŠ¡ç›‘æ§å’Œç³»ç»Ÿé…ç½®
â”œâ”€â”€ services/                   # ä¸šåŠ¡é€»è¾‘å’ŒAIé›†æˆ
â”‚   â”œâ”€â”€ algorithms/             # æ—¶é—´æˆ³å¯¹é½ç®—æ³•
â”‚   â”œâ”€â”€ business/               # ä¸šåŠ¡é€»è¾‘æœåŠ¡
â”‚   â”œâ”€â”€ clients/                # å¤–éƒ¨APIå®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ parsers/                # æ–‡ä»¶æ ¼å¼è§£æå™¨
â”‚   â””â”€â”€ speaker_diarization/    # è¯´è¯äººè¯†åˆ«pipeline (NEW)
â”‚       â”œâ”€â”€ face_detector.py    # äººè„¸æ£€æµ‹
â”‚       â”œâ”€â”€ clusterer.py        # äººè„¸èšç±»
â”‚       â”œâ”€â”€ vlm_naming.py       # VLMè¯´è¯äººå‘½å
â”‚       â”œâ”€â”€ llm_assignment.py   # LLMå­—å¹•åˆ†é…
â”‚       â””â”€â”€ pipeline.py         # å®Œæ•´æµç¨‹ç¼–æ’
â”œâ”€â”€ frontend/                   # Vue 3åº”ç”¨
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/         # Vueç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ composables/        # Vue 3ç»„åˆå¼å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ utils/              # å·¥å…·å‡½æ•°
â”‚   â”‚   â””â”€â”€ stores/             # PiniaçŠ¶æ€ç®¡ç†
â””â”€â”€ api_example/                # APIä½¿ç”¨ç¤ºä¾‹
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ğŸ³ æ–¹å¼ä¸€ï¼šDockeréƒ¨ç½²ï¼ˆæ¨èï¼Œæœ€ç®€å•ï¼ï¼‰

ä½¿ç”¨Dockerå¯ä»¥ä¸€é”®éƒ¨ç½²æ•´ä¸ªç³»ç»Ÿï¼Œæ— éœ€æ‰‹åŠ¨å®‰è£…ä¾èµ–ï¼Œé€‚åˆç”Ÿäº§ç¯å¢ƒå’Œå¿«é€Ÿä½“éªŒã€‚

#### ä½¿ç”¨Docker Composeï¼ˆæ¨èï¼‰

```bash
# 1. å…‹éš†ä»“åº“
git clone https://github.com/MiniMax-OpenPlatform/minimax_dubbing.git
cd minimax_dubbing

# 2. åˆ›å»ºæ•°æ®ç›®å½•
mkdir -p data/media data/db data/logs

# 3. æ„å»ºå¹¶å¯åŠ¨å®¹å™¨
docker-compose up -d --build

# 4. æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f
```

#### ä½¿ç”¨Dockerå‘½ä»¤

```bash
# 1. æ„å»ºé•œåƒ
docker build -t minimax_dubbing:latest .

# 2. è¿è¡Œå®¹å™¨
docker run -d \
  --name minimax_dubbing \
  -p 5172:5172 \
  -p 5173:5173 \
  -v $(pwd)/data/media:/app/media \
  -v $(pwd)/data/db:/app \
  -v $(pwd)/data/logs:/app/logs \
  --restart unless-stopped \
  minimax_dubbing:latest
```

#### è®¿é—®ç³»ç»Ÿ

- **å‰ç«¯ç•Œé¢**: http://localhost:5173
- **åç«¯API**: http://localhost:5172/api/
- **ç®¡ç†åå°**: http://localhost:5172/admin/
- **é»˜è®¤ç®¡ç†å‘˜**: ç”¨æˆ·å `admin`ï¼Œå¯†ç  `admin123`

> ğŸ“– è¯¦ç»†çš„Dockeréƒ¨ç½²æ–‡æ¡£è¯·å‚è€ƒï¼š[DOCKER_DEPLOYMENT.md](./DOCKER_DEPLOYMENT.md)

---

### ğŸ“¦ æ–¹å¼äºŒï¼šä½¿ç”¨è™šæ‹Ÿç¯å¢ƒå®‰è£…ï¼ˆ3åˆ†é’Ÿï¼‰

ä½¿ç”¨è™šæ‹Ÿç¯å¢ƒå¯ä»¥éš”ç¦»é¡¹ç›®ä¾èµ–ï¼Œé¿å…ä¸ç³»ç»ŸPythonåŒ…å†²çªï¼š

```bash
# 1. å…‹éš†ä»“åº“
git clone https://github.com/MiniMax-OpenPlatform/minimax_dubbing.git
cd minimax_dubbing

# 2. åˆ›å»ºå¹¶æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
python3 -m venv venv
source venv/bin/activate  # Linux/Mac
# Windowsç³»ç»Ÿä½¿ç”¨: venv\Scripts\activate

# 3. å®‰è£…åç«¯ä¾èµ–
pip install -r requirements.txt

# 4. å®‰è£…å‰ç«¯ä¾èµ–
cd frontend && npm install && cd ..

# 5. åˆå§‹åŒ–æ•°æ®åº“å’Œç®¡ç†å‘˜è´¦å·ï¼ˆå¿…é¡»æ‰§è¡Œï¼ï¼‰
python3 manage.py migrate       # åˆ›å»ºæ•°æ®åº“è¡¨ç»“æ„
python3 manage.py init_system   # åˆ›å»ºç®¡ç†å‘˜è´¦å·ï¼ˆadmin/admin123ï¼‰
```

> âš ï¸ **é‡è¦æç¤º**: `migrate` å‘½ä»¤å¿…é¡»æ‰§è¡Œï¼Œå¦åˆ™ä¼šå¯¼è‡´æ•°æ®åº“å­—æ®µç¼ºå¤±ï¼Œä¿å­˜é…ç½®æ—¶å‡ºç° 500 é”™è¯¯ï¼

### âš¡ æ–¹å¼ä¸‰ï¼šç›´æ¥å®‰è£…ï¼ˆ2åˆ†é’Ÿï¼‰

å¦‚æœä¸æƒ³ä½¿ç”¨Dockeræˆ–è™šæ‹Ÿç¯å¢ƒï¼Œå¯ä»¥ç›´æ¥å®‰è£…ï¼š

```bash
# 1. å…‹éš†ä»“åº“
git clone https://github.com/MiniMax-OpenPlatform/minimax_dubbing.git
cd minimax_dubbing

# 2. å®‰è£…ä¾èµ–
pip install -r requirements.txt
cd frontend && npm install && cd ..

# 3. åˆå§‹åŒ–æ•°æ®åº“å’Œç®¡ç†å‘˜è´¦å·ï¼ˆå¿…é¡»æ‰§è¡Œï¼ï¼‰
python3 manage.py migrate       # åˆ›å»ºæ•°æ®åº“è¡¨ç»“æ„
python3 manage.py init_system   # åˆ›å»ºç®¡ç†å‘˜è´¦å·ï¼ˆadmin/admin123ï¼‰
```

> âš ï¸ **é‡è¦æç¤º**: `migrate` å‘½ä»¤å¿…é¡»æ‰§è¡Œï¼Œå¦åˆ™ä¼šå¯¼è‡´æ•°æ®åº“å­—æ®µç¼ºå¤±ï¼Œä¿å­˜é…ç½®æ—¶å‡ºç° 500 é”™è¯¯ï¼

### ğŸš€ å¯åŠ¨æœåŠ¡

> ğŸ’¡ **æ³¨æ„**: å¦‚æœä½¿ç”¨è™šæ‹Ÿç¯å¢ƒï¼Œå¯åŠ¨å‰éœ€å…ˆæ¿€æ´»è™šæ‹Ÿç¯å¢ƒ: `source venv/bin/activate`

#### æ–¹æ³•1: ä¸¤ä¸ªç»ˆç«¯çª—å£ (æ¨è)

**ç»ˆç«¯1 - å¯åŠ¨åç«¯æœåŠ¡:**
```bash
# å¦‚æœä½¿ç”¨è™šæ‹Ÿç¯å¢ƒï¼Œå…ˆæ¿€æ´»
source venv/bin/activate  # Linux/Macï¼ŒWindowsä½¿ç”¨ venv\Scripts\activate

cd minimax_translation
python3 manage.py runserver 0.0.0.0:5172
```

**ç»ˆç«¯2 - å¯åŠ¨å‰ç«¯æœåŠ¡:**
```bash
cd minimax_translation/frontend
npm run dev
```

#### æ–¹æ³•2: å•ä¸ªç»ˆç«¯ (åå°è¿è¡Œ)

å¦‚æœåªæœ‰ä¸€ä¸ªç»ˆç«¯ï¼Œå¯ä»¥å°†åç«¯æ”¾åˆ°åå°è¿è¡Œï¼š

```bash
# å¦‚æœä½¿ç”¨è™šæ‹Ÿç¯å¢ƒï¼Œå…ˆæ¿€æ´»
source venv/bin/activate  # Linux/Macï¼ŒWindowsä½¿ç”¨ venv\Scripts\activate

cd minimax_translation

# 1. åå°å¯åŠ¨åç«¯æœåŠ¡
nohup python3 manage.py runserver 0.0.0.0:5172 > backend.log 2>&1 &

# 2. å¯åŠ¨å‰ç«¯æœåŠ¡
cd frontend && npm run dev
```

**åœæ­¢åå°æœåŠ¡:**
```bash
# æŸ¥æ‰¾å¹¶åœæ­¢åç«¯æœåŠ¡
pkill -f "python3 manage.py runserver"
```

#### æ–¹æ³•3: Screen ä¼šè¯ (ç”Ÿäº§ç¯å¢ƒæ¨è)

ä½¿ç”¨screenå¯ä»¥é˜²æ­¢SSHæ–­å¼€å¯¼è‡´çš„æœåŠ¡åœæ­¢ï¼š

```bash
# å®‰è£…screen (å¦‚æœæ²¡æœ‰)
sudo apt install screen  # Ubuntu/Debian

# å¯åŠ¨åç«¯ä¼šè¯
screen -S backend
# å¦‚æœä½¿ç”¨è™šæ‹Ÿç¯å¢ƒï¼Œå…ˆæ¿€æ´»
source venv/bin/activate  # Linux/Mac
cd minimax_translation
python3 manage.py runserver 0.0.0.0:5172
# æŒ‰ Ctrl+A ç„¶åæŒ‰ D é€€å‡ºscreen

# å¯åŠ¨å‰ç«¯ä¼šè¯
screen -S frontend
cd minimax_translation/frontend
npm run dev
# æŒ‰ Ctrl+A ç„¶åæŒ‰ D é€€å‡ºscreen

# æŸ¥çœ‹æ‰€æœ‰ä¼šè¯
screen -ls

# é‡æ–°è¿æ¥ä¼šè¯
screen -r backend   # è¿æ¥åç«¯
screen -r frontend  # è¿æ¥å‰ç«¯

# åœæ­¢ä¼šè¯
screen -S backend -X quit
screen -S frontend -X quit
```

**è®¿é—®åœ°å€ ğŸ‰**
- **å‰ç«¯åº”ç”¨**: http://localhost:5173/ (æœ¬åœ°) æˆ– http://YOUR_IP:5173/ (å¤–éƒ¨)
- **åç«¯API**: http://localhost:5172/api/ (æœ¬åœ°) æˆ– http://YOUR_IP:5172/api/ (å¤–éƒ¨)

> âš ï¸ **é‡è¦**: å¿…é¡»åŒæ—¶è¿è¡Œä¸¤ä¸ªæœåŠ¡æ‰èƒ½æ­£å¸¸è®¿é—®ï¼å‰ç«¯åœ¨5173ç«¯å£ï¼Œåç«¯åœ¨5172ç«¯å£ã€‚

### ğŸ“‹ Prerequisites
- Python 3.10+ ï¼ˆå¼€å‘ç¯å¢ƒï¼š3.10.12ï¼‰
- Node.js 16+
- npm

### ğŸ’¾ æ¨¡å‹ç¼“å­˜è¯´æ˜

ç³»ç»Ÿä½¿ç”¨çš„AIæ¨¡å‹ä¼šè‡ªåŠ¨ç¼“å­˜åˆ°æœ¬åœ°ï¼Œ**ä¸éœ€è¦æ¯æ¬¡éƒ½é‡æ–°ä¸‹è½½**ï¼š

#### Demucs äººå£°åˆ†ç¦»æ¨¡å‹
- **é¦–æ¬¡ä½¿ç”¨**: è‡ªåŠ¨ä¸‹è½½ htdemucs æ¨¡å‹ï¼ˆçº¦ 320MBï¼‰
- **ç¼“å­˜ä½ç½®**: `~/.cache/torch/hub/checkpoints/`
- **åç»­ä½¿ç”¨**: ç›´æ¥ä½¿ç”¨ç¼“å­˜çš„æ¨¡å‹ï¼Œæ— éœ€é‡æ–°ä¸‹è½½
- **å›¢é˜Ÿå…±äº«**: å¯ä»¥å°†ç¼“å­˜ç›®å½•æ‰“åŒ…åˆ†äº«ç»™å›¢é˜Ÿæˆå‘˜ï¼Œé¿å…é‡å¤ä¸‹è½½

#### FaceNet äººè„¸è¯†åˆ«æ¨¡å‹
- **é¦–æ¬¡ä½¿ç”¨**: è‡ªåŠ¨ä¸‹è½½é¢„è®­ç»ƒæ¨¡å‹ï¼ˆçº¦ 100MBï¼‰
- **ç¼“å­˜ä½ç½®**: `~/.cache/torch/hub/checkpoints/`
- **åç»­ä½¿ç”¨**: è‡ªåŠ¨ä½¿ç”¨æœ¬åœ°ç¼“å­˜

#### æ‰‹åŠ¨é¢„ä¸‹è½½æ¨¡å‹ï¼ˆæ¨èï¼‰

ä¸ºäº†é¿å…é¦–æ¬¡ä½¿ç”¨æ—¶ç­‰å¾…ï¼Œå¯ä»¥ä½¿ç”¨æä¾›çš„è„šæœ¬é¢„å…ˆä¸‹è½½æ‰€æœ‰æ¨¡å‹ï¼š

```bash
# ä¸‹è½½æ‰€æœ‰æ¨¡å‹
python download_models.py

# æˆ–è€…åªä¸‹è½½ç‰¹å®šæ¨¡å‹
python download_models.py --demucs     # åªä¸‹è½½Demucs
python download_models.py --facenet    # åªä¸‹è½½FaceNet

# æ£€æŸ¥å·²ç¼“å­˜çš„æ¨¡å‹
python download_models.py --check
```

#### å¿«é€Ÿéƒ¨ç½²æŠ€å·§
å¦‚æœéœ€è¦åœ¨å¤šå°æœºå™¨ä¸Šéƒ¨ç½²ï¼Œå¯ä»¥ï¼š
```bash
# æ–¹æ³•1: ä½¿ç”¨ä¸‹è½½è„šæœ¬é¢„ä¸‹è½½ï¼ˆæ¨èï¼‰
python download_models.py

# æ–¹æ³•2: åœ¨å·²æœ‰ç¼“å­˜çš„æœºå™¨ä¸Šæ‰“åŒ…åˆ†äº«
tar -czf models_cache.tar.gz ~/.cache/torch/
# åœ¨æ–°æœºå™¨ä¸Šè§£å‹
tar -xzf models_cache.tar.gz -C ~/
```

è¿™æ ·å¯ä»¥é¿å…æ¯å°æœºå™¨éƒ½é‡æ–°ä¸‹è½½æ¨¡å‹ï¼ŒèŠ‚çœæ—¶é—´å’Œå¸¦å®½ã€‚

### ğŸ”§ Detailed Setup

<details>
<summary>Click for step-by-step instructions</summary>

#### 1. Clone Repository
```bash
git clone https://github.com/backearth1/minimax_translation.git
cd minimax_translation
```

#### 2. Backend Setup
```bash
# (æ¨è) åˆ›å»ºå¹¶æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
python3 -m venv venv
source venv/bin/activate  # Linux/Macï¼ŒWindowsä½¿ç”¨ venv\Scripts\activate

# Install Python dependencies
pip install -r requirements.txt

# Setup database
python3 manage.py migrate

# Initialize system (creates admin user automatically)
python3 manage.py init_system
```

#### 3. Frontend Setup
```bash
cd frontend
npm install
cd ..
```

#### 4. Environment Configuration (Optional)
```bash
# Copy environment template
cp .env.example .env

# Edit .env file with your API keys
nano .env
```

#### 5. Start Development Servers (éœ€è¦ä¸¤ä¸ªç»ˆç«¯)

**ç»ˆç«¯1 - åç«¯æœåŠ¡:**
```bash
# å¦‚æœä½¿ç”¨è™šæ‹Ÿç¯å¢ƒï¼Œå…ˆæ¿€æ´»
source venv/bin/activate  # Linux/Macï¼ŒWindowsä½¿ç”¨ venv\Scripts\activate

cd minimax_translation
python3 manage.py runserver 0.0.0.0:5172
```

**ç»ˆç«¯2 - å‰ç«¯æœåŠ¡:**
```bash
cd minimax_translation/frontend
npm run dev
```

> ğŸ’¡ **æç¤º**: ä¸¤ä¸ªæœåŠ¡å¿…é¡»åŒæ—¶è¿è¡Œï¼å‰ç«¯æœåŠ¡åœ¨5173ç«¯å£ï¼Œåç«¯æœåŠ¡åœ¨5172ç«¯å£ã€‚

</details>

### ğŸŒ Access Points
- **Frontend**: http://localhost:5173/ (æœ¬åœ°) æˆ– http://YOUR_IP:5173/ (å¤–éƒ¨)
- **Backend API**: http://localhost:5172/api/ (æœ¬åœ°) æˆ– http://YOUR_IP:5172/api/ (å¤–éƒ¨)
- **Admin Panel**: http://localhost:5172/admin/ (æœ¬åœ°) æˆ– http://YOUR_IP:5172/admin/ (å¤–éƒ¨)

> ğŸ’¡ **å¤–éƒ¨è®¿é—®è¯´æ˜**: å°† `YOUR_IP` æ›¿æ¢ä¸ºä½ çš„å®é™…IPåœ°å€ï¼ˆå¦‚ 192.168.1.100ï¼‰

## ğŸ“– Usage

### Basic Workflow

1. **Create Project**: Upload video file and SRT file (or use ASR to generate subtitles)
2. **Auto Speaker Recognition**: AI automatically detects faces, names speakers, and assigns dialogues
3. **Configure Voices**: Review and adjust speaker-to-voice mappings in project settings
4. **Batch Translate**: Translate all segments using AI
5. **Generate TTS**: Create audio for translated text with aligned timestamps
6. **Preview & Export**: Preview concatenated audio and export results

### Key Features Guide

#### Auto Speaker Recognition (New Multi-Modal AI)
- **Face Detection & Clustering**: Uses FaceNet and DBSCAN to identify unique faces in video
- **VLM Intelligent Naming**: Qwen-VL analyzes face images and dialogue to generate speaker profiles (name, role, gender, appearance, personality)
- **LLM Subtitle Assignment**: Uses large language model to assign each subtitle to the correct speaker based on context
- **Auto Voice Mapping**: Automatically creates speaker-to-voice mappings based on gender and role
- **Result Review**: View speaker profiles with representative images and detailed analysis

#### Batch Operations
- **Translation**: Bulk translate all segments with progress tracking
- **TTS**: Generate audio for all translated segments
- **Real-time Monitoring**: Live progress updates with detailed status

#### Audio Management
- **Concatenation**: Merge segment audio into complete track
- **Preview**: Integrated media player with waveform visualization
- **Export**: Download final audio files

## âš™ï¸ Configuration

### Environment Variables
Create a `.env` file in the project root:
```env
DEBUG=True
SECRET_KEY=your-secret-key-here
ALLOWED_HOSTS=localhost,127.0.0.1,10.11.17.19
```

### MiniMax API Setup
Configure your MiniMax API credentials in the Django admin panel or directly in the code.

## ğŸ”§ API Reference

### Authentication
All API requests require authentication via API key:
```bash
curl -H "X-API-KEY: your-api-key" http://localhost:5172/api/projects/
```

### Key Endpoints
- `GET /api/projects/` - List projects
- `POST /api/projects/upload_srt/` - Upload SRT file
- `POST /api/projects/{id}/upload_video/` - Upload video file
- `POST /api/projects/{id}/separate_vocals/` - Separate vocals from video
- `POST /api/projects/{id}/asr_recognize/` - Auto-generate subtitles using ASR
- `POST /speakers/tasks/` - Start speaker recognition task
- `GET /speakers/tasks/{task_id}/progress/` - Get speaker recognition progress
- `POST /api/projects/{id}/batch_translate/` - Start batch translation
- `POST /api/projects/{id}/batch_tts/` - Start batch TTS
- `POST /api/projects/{id}/concatenate_audio/` - Concatenate audio
- `POST /api/projects/{id}/synthesize_video/` - Synthesize final video with translated audio

## ğŸ—‘ï¸ æ•°æ®æ¸…ç†ç­–ç•¥ (Data Cleanup Policy)

### âš ï¸ é‡è¦è¯´æ˜

ä¸ºäº†ä¼˜åŒ–å­˜å‚¨ç©ºé—´å’Œç³»ç»Ÿæ€§èƒ½ï¼Œæœ¬ç³»ç»Ÿæ”¯æŒè‡ªåŠ¨æ¸…ç†ä¸æ´»è·ƒçš„é¡¹ç›®å’Œç”¨æˆ·æ•°æ®ã€‚**æ­¤åŠŸèƒ½é»˜è®¤å…³é—­**ï¼Œå¯ç”¨å‰è¯·ä»”ç»†é˜…è¯»ä»¥ä¸‹è¯´æ˜ã€‚

### æ¸…ç†è§„åˆ™

ç³»ç»Ÿä¼šå®šæœŸï¼ˆæ¯å¤©å‡Œæ™¨3ç‚¹ï¼‰è‡ªåŠ¨æ¸…ç†ä»¥ä¸‹æ•°æ®ï¼š

#### 1ï¸âƒ£ è¿‡æœŸé¡¹ç›®æ¸…ç†
- **è§¦å‘æ¡ä»¶**ï¼šé¡¹ç›®æœ€åæ›´æ–°æ—¶é—´è¶…è¿‡ N å¤©ï¼ˆé»˜è®¤1å¤©ï¼‰
- **æ¸…ç†èŒƒå›´**ï¼š
  - âœ… é¡¹ç›®è®°å½•ï¼ˆProjectï¼‰
  - âœ… æ‰€æœ‰ç¿»è¯‘æ®µè½ï¼ˆSegmentsï¼‰
  - âœ… è¯´è¯äººè¯†åˆ«æ•°æ®ï¼ˆSpeakerDiarizationTaskã€SpeakerProfileï¼‰
  - âœ… æ‰€æœ‰å…³è”åª’ä½“æ–‡ä»¶ï¼ˆè§†é¢‘ã€éŸ³é¢‘ã€å­—å¹•ã€äººè„¸å›¾ç‰‡ç­‰ï¼‰
- **å½±å“**ï¼šé¡¹ç›®åŠå…¶æ‰€æœ‰æ•°æ®å°†è¢«æ°¸ä¹…åˆ é™¤ï¼Œæ— æ³•æ¢å¤

#### 2ï¸âƒ£ ä¸æ´»è·ƒç”¨æˆ·æ¸…ç†
- **è§¦å‘æ¡ä»¶**ï¼šç”¨æˆ·æœ€åç™»å½•æ—¶é—´è¶…è¿‡ N å¤©ï¼ˆé»˜è®¤7å¤©ï¼‰
- **ä¿æŠ¤ç­–ç•¥**ï¼š**ä»…åˆ é™¤æ™®é€šç”¨æˆ·**ï¼Œè¶…çº§ç®¡ç†å‘˜ï¼ˆ`is_superuser=True`ï¼‰æ°¸ä¸åˆ é™¤
- **æ¸…ç†èŒƒå›´**ï¼š
  - âœ… ç”¨æˆ·è´¦å·åŠé…ç½®ï¼ˆUserã€UserConfigï¼‰
  - âœ… ç”¨æˆ·çš„æ‰€æœ‰é¡¹ç›®åŠå…³è”æ•°æ®
  - âœ… ç”¨æˆ·çš„æ‰€æœ‰è¯­éŸ³å…‹éš†è®°å½•ï¼ˆVoiceCloneRecordï¼‰
  - âœ… ç”¨æˆ·çš„è¯­éŸ³åº“è®°å½•ï¼ˆVoiceï¼‰
  - âœ… æ‰€æœ‰å…³è”åª’ä½“æ–‡ä»¶
- **å½±å“**ï¼šç”¨æˆ·åŠå…¶æ‰€æœ‰æ•°æ®å°†è¢«æ°¸ä¹…åˆ é™¤ï¼Œæ— æ³•æ¢å¤

### é…ç½®æ–¹æ³•

#### æ–¹å¼1ï¼šç®¡ç†åå°é…ç½®ï¼ˆæ¨èï¼‰

1. è®¿é—®ç®¡ç†åå°ï¼š`http://your-ip:5172/admin/`
2. è¿›å…¥ **ç³»ç»Ÿé…ç½®ï¼ˆSystem Configï¼‰**
3. æ‰¾åˆ° **"æ•°æ®è‡ªåŠ¨æ¸…ç† âš ï¸"** éƒ¨åˆ†
4. é…ç½®ä»¥ä¸‹å‚æ•°ï¼š
   - `å¯ç”¨æ•°æ®è‡ªåŠ¨æ¸…ç†`ï¼šå¼€å¯/å…³é—­è‡ªåŠ¨æ¸…ç†ï¼ˆé»˜è®¤å…³é—­ï¼‰
   - `é¡¹ç›®æ¸…ç†å¤©æ•°`ï¼šé¡¹ç›®å¤šå°‘å¤©æœªæ›´æ–°ååˆ é™¤ï¼ˆé»˜è®¤1å¤©ï¼ŒèŒƒå›´1-365å¤©ï¼‰
   - `ç”¨æˆ·æ¸…ç†å¤©æ•°`ï¼šç”¨æˆ·å¤šå°‘å¤©æœªç™»å½•ååˆ é™¤ï¼ˆé»˜è®¤7å¤©ï¼ŒèŒƒå›´1-365å¤©ï¼‰
   - `æ¸…ç†æ‰§è¡Œæ—¶é—´`ï¼šæ¯å¤©æ‰§è¡Œæ¸…ç†çš„æ—¶é—´ï¼ˆé»˜è®¤03:00ï¼Œå»ºè®®å‡Œæ™¨æ—¶æ®µï¼‰

#### æ–¹å¼2ï¼šå‘½ä»¤è¡Œæ‰‹åŠ¨æ‰§è¡Œ

```bash
# é¢„è§ˆå°†è¦åˆ é™¤çš„æ•°æ®ï¼ˆæ¨èå…ˆæ‰§è¡Œæ­¤å‘½ä»¤ï¼‰
python manage.py cleanup_old_data --dry-run

# æ‰§è¡Œå®é™…æ¸…ç†ï¼ˆä½¿ç”¨ç³»ç»Ÿé…ç½®çš„å¤©æ•°ï¼‰
python manage.py cleanup_old_data

# è‡ªå®šä¹‰æ¸…ç†å¤©æ•°
python manage.py cleanup_old_data --projects-days=3 --users-days=14

# ä»…æ¸…ç†é¡¹ç›®
python manage.py cleanup_old_data --only-projects

# ä»…æ¸…ç†ç”¨æˆ·
python manage.py cleanup_old_data --only-users
```

### å¯ç”¨è‡ªåŠ¨æ¸…ç†

1. **å®‰è£…ä¾èµ–**ï¼ˆå¦‚æœå°šæœªå®‰è£…ï¼‰ï¼š
```bash
pip install django-crontab
```

2. **æ‰§è¡Œæ•°æ®åº“è¿ç§»**ï¼ˆæ·»åŠ æ¸…ç†é…ç½®å­—æ®µï¼‰ï¼š
```bash
python manage.py migrate
```

3. **å®‰è£…å®šæ—¶ä»»åŠ¡**ï¼š
```bash
python manage.py crontab add
```

4. **éªŒè¯å®šæ—¶ä»»åŠ¡**ï¼š
```bash
python manage.py crontab show
# åº”è¯¥æ˜¾ç¤ºï¼š0 3 * * * ...cleanup_old_data...
```

5. **åœ¨ç®¡ç†åå°å¯ç”¨æ¸…ç†åŠŸèƒ½**

### ç®¡ç†å®šæ—¶ä»»åŠ¡

```bash
# æŸ¥çœ‹å·²å®‰è£…çš„å®šæ—¶ä»»åŠ¡
python manage.py crontab show

# ç§»é™¤æ‰€æœ‰å®šæ—¶ä»»åŠ¡
python manage.py crontab remove

# é‡æ–°å®‰è£…å®šæ—¶ä»»åŠ¡ï¼ˆä¿®æ”¹é…ç½®åï¼‰
python manage.py crontab add
```

### æœ€ä½³å®è·µå»ºè®®

1. **é¦–æ¬¡å¯ç”¨å‰åŠ¡å¿…æµ‹è¯•**ï¼š
   ```bash
   python manage.py cleanup_old_data --dry-run
   ```

2. **å»ºè®®é…ç½®**ï¼š
   - å¼€å‘/æµ‹è¯•ç¯å¢ƒï¼šé¡¹ç›®3å¤©ï¼Œç”¨æˆ·14å¤©
   - ç”Ÿäº§ç¯å¢ƒï¼ˆæ¼”ç¤ºç³»ç»Ÿï¼‰ï¼šé¡¹ç›®1å¤©ï¼Œç”¨æˆ·7å¤©
   - ç”Ÿäº§ç¯å¢ƒï¼ˆæ­£å¼æœåŠ¡ï¼‰ï¼šæ ¹æ®å®é™…éœ€æ±‚è°ƒæ•´ï¼Œæˆ–ç¦ç”¨è‡ªåŠ¨æ¸…ç†

3. **å®šæœŸå¤‡ä»½æ•°æ®åº“**ï¼ˆç”Ÿäº§ç¯å¢ƒå¿…é¡»ï¼‰ï¼š
   ```bash
   # SQLiteå¤‡ä»½
   cp db.sqlite3 db.sqlite3.backup.$(date +%Y%m%d)

   # æˆ–ä½¿ç”¨Djangoå‘½ä»¤å¯¼å‡º
   python manage.py dumpdata > backup_$(date +%Y%m%d).json
   ```

4. **ç›‘æ§æ¸…ç†æ—¥å¿—**ï¼š
   - æ—¥å¿—ä½ç½®ï¼š`/tmp/cleanup_old_data.log`
   - ç³»ç»Ÿæ—¥å¿—ï¼šé€šè¿‡ç®¡ç†åå° "æ—¥å¿—ç®¡ç†" æŸ¥çœ‹

### é£é™©æç¤º

âš ï¸ **æ•°æ®åˆ é™¤ä¸å¯é€†**ï¼å¯ç”¨è‡ªåŠ¨æ¸…ç†å‰è¯·ç¡®ä¿ï¼š
- [ ] å·²åœ¨æµ‹è¯•ç¯å¢ƒéªŒè¯æ¸…ç†é€»è¾‘
- [ ] å·²ä½¿ç”¨ `--dry-run` é¢„è§ˆæ¸…ç†æ•ˆæœ
- [ ] å·²é…ç½®åˆç†çš„æ¸…ç†å¤©æ•°
- [ ] å·²å»ºç«‹æ•°æ®åº“å¤‡ä»½æœºåˆ¶ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰
- [ ] ç”¨æˆ·å·²çŸ¥æ™“æ•°æ®ä¿ç•™ç­–ç•¥

## ğŸ§ª Testing

### Backend Tests
```bash
python3 manage.py test
```

### Frontend Tests
```bash
cd frontend
npm run test
```

## ğŸ”§ æ•…éšœæ’æŸ¥ (Troubleshooting)

### é—®é¢˜1: æ³¨å†Œæ—¶è¿”å› 400 é”™è¯¯ / ä¿å­˜é…ç½®æ—¶ 500 é”™è¯¯

**é”™è¯¯ç°è±¡**:
```
POST http://your-ip:5172/api/auth/register/ 400 (Bad Request)
PATCH http://your-ip:5172/api/auth/config/ 500 (Internal Server Error)
```

**åŸå› **: æ•°æ®åº“è¿ç§»æœªæ‰§è¡Œï¼Œç¼ºå°‘å¿…è¦çš„å­—æ®µ

**é”™è¯¯æ—¥å¿—**:
```
ERROR: table authentication_userconfig has no column named aliyun_access_key_id
ERROR: no such column: authentication_userconfig.dashscope_api_key
```

**è§£å†³æ–¹æ³•**:
```bash
# 1. æ‹‰å–æœ€æ–°ä»£ç ï¼ˆåŒ…å«æ‰€æœ‰è¿ç§»æ–‡ä»¶ï¼‰
git pull origin main

# 2. æ¿€æ´»è™šæ‹Ÿç¯å¢ƒï¼ˆå¦‚æœä½¿ç”¨ï¼‰
source venv/bin/activate

# 3. è¿è¡Œæ•°æ®åº“è¿ç§»ï¼ˆå…³é”®æ­¥éª¤ï¼ï¼‰
python3 manage.py migrate

# 4. é‡å¯åç«¯æœåŠ¡
pkill -f "python3 manage.py runserver"
python3 manage.py runserver 0.0.0.0:5172
```

**éªŒè¯è¿ç§»æ˜¯å¦æˆåŠŸ**:
```bash
python3 manage.py showmigrations authentication
# åº”è¯¥çœ‹åˆ°æ‰€æœ‰è¿ç§»éƒ½æœ‰ [X] æ ‡è®°ï¼ŒåŒ…æ‹¬ï¼š
# [X] 0004_userconfig_dashscope_api_key
# [X] 0005_userconfig_aliyun_access_key_id_and_more
```

**å¦‚æœä¹‹å‰æ³¨å†Œå¤±è´¥ä½†èƒ½ç™»å½•ï¼ˆç”¨æˆ·å·²åˆ›å»ºä½†ç¼ºå°‘é…ç½®ï¼‰**:
```bash
# è¿è¡Œä¿®å¤è„šæœ¬ï¼Œä¸ºå·²å­˜åœ¨çš„ç”¨æˆ·åˆ›å»ºé…ç½®
python3 fix_incomplete_users.py
```

è¿™ä¸ªè„šæœ¬ä¼šï¼š
- æ£€æŸ¥æ‰€æœ‰ç”¨æˆ·ï¼Œæ‰¾å‡ºæ²¡æœ‰é…ç½®çš„ç”¨æˆ·
- è‡ªåŠ¨ä¸ºè¿™äº›ç”¨æˆ·åˆ›å»ºé…ç½®
- éªŒè¯ä¿®å¤ç»“æœ

**å¯èƒ½åŸå› 2**: æ—§ç‰ˆæœ¬ä»£ç ä¸­ MiniMax API Key é…ç½®é—®é¢˜ï¼ˆå·²ä¿®å¤ï¼‰

å¦‚æœä½¿ç”¨çš„æ˜¯æ—§ç‰ˆæœ¬ä»£ç ï¼Œè¯·æ‹‰å–æœ€æ–°ä»£ç ï¼š
```bash
git pull origin main
# é‡å¯åç«¯æœåŠ¡
pkill -f "python3 manage.py runserver"
python3 manage.py runserver 0.0.0.0:5172
```

> ğŸ’¡ **å·²ä¿®å¤**: æœ€æ–°ç‰ˆæœ¬å·²å°† MiniMax API Key é»˜è®¤å€¼å†…ç½®åˆ° settings.pyï¼Œæ— éœ€é…ç½®ç¯å¢ƒå˜é‡å³å¯ä½¿ç”¨

### é—®é¢˜2: é¦–æ¬¡ä½¿ç”¨äººå£°åˆ†ç¦»æˆ–è¯´è¯äººè¯†åˆ«æ—¶ç­‰å¾…å¾ˆä¹…

**åŸå› **: æ­£åœ¨ä¸‹è½½ AI æ¨¡å‹ï¼ˆDemucs 320MB + FaceNet 100MBï¼‰

**è§£å†³æ–¹æ³•**:
```bash
# ä½¿ç”¨è„šæœ¬é¢„å…ˆä¸‹è½½æ‰€æœ‰æ¨¡å‹
python download_models.py

# æˆ–è€…ä»å…¶ä»–æœºå™¨å¤åˆ¶æ¨¡å‹ç¼“å­˜
tar -czf models_cache.tar.gz ~/.cache/torch/
# ä¼ è¾“åˆ°æ–°æœºå™¨åè§£å‹
tar -xzf models_cache.tar.gz -C ~/
```

### é—®é¢˜3: å‰ç«¯æ— æ³•è¿æ¥åç«¯ API

**æ£€æŸ¥æ¸…å•**:
1. ç¡®è®¤åç«¯æœåŠ¡æ­£åœ¨è¿è¡Œ: `ps aux | grep "python3 manage.py runserver"`
2. ç¡®è®¤ç«¯å£æ­£ç¡®: åç«¯ 5172ï¼Œå‰ç«¯ 5173
3. æ£€æŸ¥é˜²ç«å¢™è§„åˆ™ï¼ˆå¦‚æœåœ¨è¿œç¨‹æœåŠ¡å™¨ï¼‰
4. æŸ¥çœ‹åç«¯æ—¥å¿—: `tail -f backend.log`ï¼ˆå¦‚æœä½¿ç”¨ nohupï¼‰

### é—®é¢˜4: è™šæ‹Ÿç¯å¢ƒæ¿€æ´»å¤±è´¥

**Linux/Mac**:
```bash
source venv/bin/activate
```

**Windows**:
```bash
venv\Scripts\activate
```

å¦‚æœæç¤ºæƒé™é”™è¯¯ï¼ŒWindows éœ€è¦ï¼š
```powershell
Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser
```

### é—®é¢˜5: npm install å¤±è´¥

**è§£å†³æ–¹æ³•**:
```bash
# æ¸…é™¤ npm ç¼“å­˜
cd frontend
rm -rf node_modules package-lock.json
npm cache clean --force
npm install
```

## ğŸ“¦ Production Deployment

### Backend
```bash
# Install production dependencies
pip install -r requirements.txt

# Collect static files
python3 manage.py collectstatic

# Run with gunicorn
gunicorn backend.wsgi:application
```

### ğŸ”„ Background Service (Persistent Running)

#### For Development (Terminal Closes, Service Continues):
```bash
# Backend - Using nohup
nohup python3 manage.py runserver 0.0.0.0:5172 > backend.log 2>&1 &

# Frontend - Using nohup
cd frontend
nohup npm run dev > frontend.log 2>&1 &

# Check running processes
ps aux | grep python3
ps aux | grep node

# Stop services
pkill -f "python3 manage.py runserver"
pkill -f "npm run dev"
```

#### For Production (Using systemd):
```bash
# 1. Create backend service file
sudo nano /etc/systemd/system/minimax-backend.service

# Content:
[Unit]
Description=MiniMax Translation Backend
After=network.target

[Service]
Type=simple
User=your-username
WorkingDirectory=/path/to/minimax_translation
ExecStart=/usr/bin/python3 manage.py runserver 0.0.0.0:5172
Restart=always

[Install]
WantedBy=multi-user.target

# 2. Enable and start service
sudo systemctl daemon-reload
sudo systemctl enable minimax-backend
sudo systemctl start minimax-backend

# 3. Check status
sudo systemctl status minimax-backend
```

#### Alternative: Using screen/tmux:
```bash
# Using screen
screen -S minimax-backend
python3 manage.py runserver 0.0.0.0:5172
# Press Ctrl+A then D to detach

screen -S minimax-frontend
cd frontend && npm run dev
# Press Ctrl+A then D to detach

# List running screens
screen -ls

# Reattach to screen
screen -r minimax-backend
```

### Frontend
```bash
cd frontend
npm run build
```

## ğŸ¤ Contributing

1. Fork the repository
2. Create your feature branch (`git checkout -b feature/amazing-feature`)
3. Commit your changes (`git commit -m 'Add some amazing feature'`)
4. Push to the branch (`git push origin feature/amazing-feature`)
5. Open a Pull Request

## ğŸ“ License

This project is licensed under the MIT License - see the LICENSE file for details.

## ğŸ™ Acknowledgments

- **MiniMax API** for AI translation and TTS capabilities
- **Vue 3** and **Element Plus** for the modern frontend
- **Django REST Framework** for the robust backend API
- **FFmpeg** for audio processing capabilities

## ğŸ“ æŠ€æœ¯æ”¯æŒä¸äº¤æµ

### ğŸ’¬ åŠ å…¥å¾®ä¿¡æŠ€æœ¯äº¤æµç¾¤

æ¬¢è¿æ‰«ç åŠ å…¥æˆ‘ä»¬çš„å¾®ä¿¡æŠ€æœ¯äº¤æµç¾¤ï¼Œå…±åŒæ¢ç´¢è§†é¢‘ç¿»è¯‘çš„æŠ€æœ¯è¾¹ç•Œï¼š

<div align="center">
  <img src="./20251023-162139.jpg" alt="å¾®ä¿¡æŠ€æœ¯äº¤æµç¾¤" width="300"/>
  <p><i>æ‰«ç åŠ å…¥å¾®ä¿¡ç¾¤ï¼Œäº¤æµAIé…éŸ³æŠ€æœ¯</i></p>
</div>

### å…¶ä»–æ”¯æŒæ–¹å¼

- åœ¨ GitHub ä»“åº“åˆ›å»º Issue åé¦ˆé—®é¢˜
- æŸ¥çœ‹é¡¹ç›®æ–‡æ¡£
- å‚è€ƒ `/api_example` ä¸­çš„APIä½¿ç”¨ç¤ºä¾‹

---

**Built with â¤ï¸ using Vue 3, Django, and AI-powered technologies**